# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/48303727/)
```
#:48303727
题目:P0230
提交人:2400090404_李实
内存:3684kB
时间:30ms
语言:Python3
提交时间:2025-02-18 17:24:40
```


题目思路：
不同行 不同列 意味着每行每列都有一个皇后
我们用一个长为n的数组col来记录皇后的位置
第i行的皇后必须在第col[ i ]列
那么col必须是一个0到n-1的排列
我们枚举col的所有排列
于是这就变成了一个排列型回溯的问题 这样每行选一个每列选一个，剩下要解决的问题就是对角线上的皇后相互攻击的问题
注意到 如果用r表示皇后所在的行数，用c表示皇后所在的列数 那么（r，c）就可以得到皇后的坐标
在同一对角线上的皇后会满足r+c相等或者r-c相等
于是我们可以定义一个valid函数来判断已经放置的皇后会不会在斜对角线上攻击该轮放置的皇后
有了判断皇后是否会相互攻击的条件后我们就可以用dfs进行回溯
dfs有两个参数，一个是当前枚举的行号，和剩余可以枚举的列号
详细代码如图：

![e1afe33947aefad8c23a548667428c9](https://cdn.jsdelivr.net/gh/cheeseandicecream/PKUlibrary@img/img/202502181810776.png)
